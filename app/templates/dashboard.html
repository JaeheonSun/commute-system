<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì¶œí‡´ê·¼ ëŒ€ì‹œë³´ë“œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 4 (AdminLTEì™€ ë™ì¼ ê³„ì—´) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body class="bg-light">

<!-- ğŸ”¹ Navbar -->
<nav class="navbar navbar-expand navbar-white bg-white shadow-sm px-3">
  <span class="navbar-brand font-weight-bold">
    ì¶œí‡´ê·¼ ê´€ë¦¬ ì‹œìŠ¤í…œ
  </span>

  <div class="ml-auto d-flex align-items-center">
    {% if current_user.is_authenticated and current_user.role == "admin" %}
      <a href="{{ url_for('admin.dashboard') }}" class="btn btn-warning btn-sm mr-2">
        ê´€ë¦¬ì í˜ì´ì§€
      </a>
    {% endif %}

    <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-secondary btn-sm">
      ë¡œê·¸ì•„ì›ƒ
    </a>
  </div>
</nav>

<!-- ğŸ”¹ Main -->
<div class="container mt-4">

  <!-- ì¸ì‚¬ ì¹´ë“œ -->
  <div class="card mb-3">
    <div class="card-body">
      <h5 class="mb-0">
        ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, <strong>{{ current_user.username }}</strong>ë‹˜
      </h5>
    </div>
  </div>

  <!-- ì˜¤ëŠ˜ ê·¼ë¬´ ìƒíƒœ -->
  <div class="card text-center">
    <div class="card-header bg-primary text-white">
      ì˜¤ëŠ˜ì˜ ì¶œí‡´ê·¼ ê¸°ë¡
    </div>

    <div class="card-body">

      {% if not record %}
        <p class="text-muted mb-3">
          ì•„ì§ ì¶œê·¼ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.
        </p>
        <a href="{{ url_for('attendance.check_in') }}"
           class="btn btn-success btn-lg">
          <i class="fas fa-sign-in-alt"></i> ì¶œê·¼
        </a>

      {% else %}
        <p class="mb-2">
          â° ì¶œê·¼ ì‹œê°„ :
          <strong>
            {{ record.start_time.strftime('%H:%M:%S') if record.start_time }}
          </strong>
        </p>

        {% if not record.end_time %}
          <a href="{{ url_for('attendance.check_out') }}"
             class="btn btn-danger btn-lg mt-2">
            <i class="fas fa-sign-out-alt"></i> í‡´ê·¼
          </a>
        {% else %}
          <p class="mt-3 text-success">
            âœ… í‡´ê·¼ ì™„ë£Œ
          </p>
          <p>
            â° í‡´ê·¼ ì‹œê°„ :
            <strong>
              {{ record.end_time.strftime('%H:%M:%S') }}
            </strong>
          </p>
        {% endif %}

      {% endif %}

    </div>
  </div>

</div>

</body>
</html>
